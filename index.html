<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference - the basics</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript","php"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="php">php</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="overview-the-basics">Overview - the basics</h1>

<p><a href="http://www.edmdesigner.com">EDMdesigner</a> is a drag and drop tool for creating responsive HTML e-mail templates very quickly and painlessly, radically increasing your click-through rate. This document gives you the basic information what you will need to integrate it to your system (e.g. a CRM, CMS, WebShop or anything else you can imagine). Also, you can find other documentations at the <a href="#other-resources">other resources</a> section.</p>

<p>To start developing with our API, please request access to our dashboard, where you can manage your API keys. (Please contact us at info@edmdesigner.com.)</p>

<p>With an API key and the corresponding &ldquo;magic word&rdquo; you can generate an access token with which you can make request to our API. You will need to send the access token with each API requests to our servers.</p>

<p>At a certain point your users will open our editor. When the editor&rsquo;s iframe is opened, you will be able to modify its behaviour through our <a href="postMessageApi.html">postMessage API</a>. That&rsquo;s the client side of our API. The whole code (js, css and html as well) of the editor is <a href="http://edmdesigner.com/blog/update-edmdesigner-uses-amazon-cloudfront">served with Amazon&rsquo;s CDN (Cloudfront)</a> so it should load super fast from all over the world.</p>

<p>If you are feeling confused or stuck during the process, check out <a href="#tutorials">Tutorials</a>.</p>

<h1 id="making-requests">Making requests</h1>

<p>There are two main ways to make requests to our server. The first is when you send a simple HTTP request to one of our API endpoints, the second is when you send a <a href="https://en.wikipedia.org/wiki/JSONP">JSONP</a> request.</p>

<p>In the latter case you will be able to create most of the integration on the client side. For this purpose we have created a Javascript wrapper with built-in failover between our endpoints. You can find that <a href="http://api-static.edmdesigner.com/EDMdesignerAPI.js">here</a>.</p>

<p><strong>Our API endpoints are the followings:</strong></p>

<ul>
<li>api-a.edmdesigner.com</li>
<li>api-b.edmdesigner.com</li>
<li>api-c.edmdesigner.com</li>
</ul>

<p>Every time when you make an API request, you should do it with failover to the other endpoints. (Again, in our JS API, this failover mechanism is built-in.)</p>

<p>Whenever you send a request to one of our API endpoints, you should send a userId and a token with it. These are access tokens, about which you can learn more about in the <a href="#authentication">authentication</a> chapter. The lifetime of a token is one day and if you try to make an API call without it, then the response will have <a href="https://en.wikipedia.org/wiki/HTTP_403">403</a> status code.</p>

<p>There are some API requests, which are not reachable via a JSONP call. This is because those API calls considered to be dangerous, so you should call them from your server-side and do the appropriate authentication and authorization on your users.</p>

<p>It might happen that you try to make extremely lot of API calls, especially when something is messed up with your integration. If it happens, then after a while we will send back a response with <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#429">429</a> status code and won&rsquo;t serve your requests for a while. So integrate carefully, and don&rsquo;t try to send too many requests. (Our API is <a href="https://en.wikipedia.org/wiki/Rate_limiting">rate limited</a>.)</p>

<p>At the moment, our <a href="http://api-static.edmdesigner.com/EDMdesignerAPI.js">JS API</a>&rsquo;s dependence is <a href="https://jquery.com/">jQuery</a> (v1.3 or later). It&rsquo;s only because of the convenient ajax requests, but probably we will change it to native ajax in the near future. </p>

<p>We suggest you to use the <a href="http://api-static.edmdesigner.com/EDMdesignerAPI.js">JS API</a> as much as it&rsquo;s possible.</p>

<p>We chose PHP as the language for the server side examples, because most of the people can at least read it.</p>

<h1 id="authentication">Authentication</h1>

<p>In this chapter you will learn about the authentication and authorization process in our API.
Basically you will need to generate a user level or admin level access token with which you can make API calls.</p>

<h2 id="generating-an-access-token">Generating an access token</h2>

<p>First of all, you will need an API key and a corresponding magic word to generate an access token. You can manage your API keys and magic words on our dashboard.</p>

<p>Basically you need to HTTP POST from your server to one of our <a href="#making-requests">API endpoints</a> the following data to the <strong>/api/token</strong> route:</p>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>one of your API keys</td>
</tr>
<tr>
<td>uid</td>
<td>your user&rsquo;s id</td>
</tr>
<tr>
<td>ip</td>
<td>ipv4 address of your client</td>
</tr>
<tr>
<td>ts</td>
<td>a timestamp (now)</td>
</tr>
<tr>
<td>hash</td>
<td>The hash has to be the string representation of the md5 hash of the concatenation of the API key, the ipv4 address, the timestamp and the magic word: <br/> <strong>hash = md5(API_KEY + ipv4 + timestamp + magic)</strong></td>
</tr>
</tbody></table>

<p>If everything goes well, our server will return a JSON containing a token property which is the access token. If not, then you the response&rsquo;s status code might be 403 or you might receive a JSON with an err property in it.</p>

<p>You might want to save the access token to your user&rsquo;s session for later use. Our tokens are valid for one day, so if your session&rsquo;s lifetime is less or equal to that, then you are good to go. If your session&rsquo;s lifetime is more than that, you will need to regenerate the access tokens from time to time.</p>

<p>It is very important to build-in a failover mechanism to the token generation process as well. So if you don&rsquo;t get proper response from one of our endpoints, you should retry it with the other <a href="#making-requests">endpoints</a>.</p>

<p>It&rsquo;s also extremely important to authorize your users on your server side, so they won&rsquo;t be able to generate access tokens in each other&rsquo;s name.</p>

<p>In the following chapters you will see examples for the token generation process.</p>

<h2 id="using-the-access-token">Using the access token</h2>

<p>Once you have an access token, you can make requests to our API endpoints. The only thing you have to do is to add the userId (what you used when you created the token) and the token itself to the query string as a parameter of the HTTP of JSONP request:</p>

<p><strong>http(s)://api.end.point/request/route?user=youruserid&amp;token=youraccesstoken</strong></p>

<p>For exmaple:</p>

<p>https://api-a.edmdesginer.com/json/project/list?user=userId&amp;token=123456789</p>

<p>If you use our <a href="http://api-static.edmdesigner.com/EDMdesignerAPI.js">JS API</a> then you won&rsquo;t have to manually tinker with concatenating the correct request urls, the JS API module will do it for you. You will just need to call the corresponding functions. (You will find these functions as well later in the documentation.)</p>

<p>The other very good thing about using this JS API is, that the failover mechanism is built-in so you won&rsquo;t need to implement failover manually.</p>

<p>If the token is not valid any more or the userId that you sent is not correct, then the HTTP response&rsquo;s status code will be <a href="https://en.wikipedia.org/wiki/HTTP_403">403</a> and your request won&rsquo;t be served.</p>

<h2 id="user-level-access-token">User level access token</h2>
<pre class="highlight javascript"><code><span class="c1">//First include jQuery somewhere in your page, because our JS API is depending on that</span>
<span class="c1">//Use the JS API from: https://api-static.edmdesigner.com/EDMdesignerAPI.js</span>
<span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"##handshaking_route##"</span><span class="p">,</span><span class="s2">"##userId##"</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">onSuccess</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//the edmDesignerApi object will contain all the functions which you can use</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>


<span class="c1">//A concrete example with token.php as the handshaking route and templater as the user</span>
<span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span><span class="s2">"templater"</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">onSuccess</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//the edmDesignerApi object will contain all the functions which you can use</span>
  <span class="c1">//all of the things will happen in the name of the templater user here,</span>
  <span class="c1">//so authorize your users carefully!!!</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight php"><code>//token.php
//This example does not implement failover mechanism for easier understanding.

<span class="cp">&lt;?php</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"userId"</span><span class="p">])</span> <span class="p">{</span>
  <span class="c1">//here you have to authorize your user!!!
</span>  <span class="c1">//don't let your users to generate access tokens in each other's name
</span>  <span class="c1">// - they could mess up each others' projects
</span>
  <span class="nv">$publicId</span> <span class="o">=</span> <span class="s2">"YOUR_API_KEY"</span><span class="p">;</span>
  <span class="nv">$magic</span> <span class="o">=</span> <span class="s2">"YOUR_MAGIC_WORD"</span><span class="p">;</span>
  <span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"REMOTE_ADDR"</span><span class="p">];</span>
  <span class="nv">$timestamp</span> <span class="o">=</span> <span class="nb">time</span><span class="p">();</span>
  <span class="nv">$hash</span> <span class="o">=</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$publicId</span> <span class="o">.</span> <span class="nv">$ip</span> <span class="o">.</span> <span class="nv">$timestamp</span> <span class="o">.</span> <span class="nv">$magic</span><span class="p">);</span>
  <span class="nv">$url</span> <span class="o">=</span> <span class="s2">"http://api-a.edmdesigner.com/api/token"</span><span class="p">;</span> <span class="c1">//should fail over to api-b &amp; api-c as well.
</span>  <span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"id"</span>  <span class="o">=&gt;</span> <span class="nv">$publicId</span><span class="p">,</span>
        <span class="s2">"uid"</span> <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">"userId"</span><span class="p">],</span>
        <span class="s2">"ip"</span>  <span class="o">=&gt;</span> <span class="nv">$ip</span><span class="p">,</span>
        <span class="s2">"ts"</span>  <span class="o">=&gt;</span> <span class="nv">$timestamp</span><span class="p">,</span>
        <span class="s2">"hash"</span>  <span class="o">=&gt;</span> <span class="nv">$hash</span>
  <span class="p">);</span>
  <span class="c1">// use key 'http' even if you send the request to https://...
</span>  <span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
      <span class="s2">"http"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
          <span class="s2">"header"</span>  <span class="o">=&gt;</span> <span class="s2">"Content-type: application/x-www-form-urlencoded</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">,</span>
          <span class="s2">"method"</span>  <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
          <span class="s2">"content"</span> <span class="o">=&gt;</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$data</span><span class="p">),</span>
      <span class="p">)</span>
  <span class="p">);</span>
  <span class="nv">$context</span>  <span class="o">=</span> <span class="nb">stream_context_create</span><span class="p">(</span><span class="nv">$options</span><span class="p">);</span>
  <span class="nv">$result</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="nv">$context</span><span class="p">);</span>
  <span class="k">print</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre>

<p>In this section you will see an example for basic user level token generation. This is the basic permission level. With a user level access token you can manage the thing associated to that user, nothing more. There are also admin level calls, which you can read about in the next <a href="#admin-level-access-token">section</a>.</p>

<p>You can follow the whole process in the example on the right. On the <a href="?javascript#user-level-access-token">javascript tab</a>, you can see examples for the <a href="?javascript#user-level-access-token">JS API usage</a>, and on the <a href="?php#user-level-access-token">php tab</a>, you can see a very simple example implementation of the <a href="?php#user-level-access-token">server side</a> part of the handshaking process. (This is your part of the token generation).</p>

<p>To use our <a href="https://api-static.edmdesigner.com/EDMdesignerAPI.js">JS API</a>, you just have to include it in your page with a script tag. (&lt;script src=&ldquo;https://api-static.edmdesigner.com/EDMdesignerAPI.js&rdquo;&gt;&lt;/script&gt;) </p>

<p>By doing this, you will have a global initEDMdesignerPlugin function.
The first parameter is the route where the JS module will post the userId, which is the second parameter. If your user has rights to generate a token, then you will have to post all the necessary info to our endpoint. In the example, there is no proper authorization, since that depends on your system.</p>

<p>The whole process in the example is the following:</p>

<ul>
<li>the JS API sends the userId to token.php</li>
<li>token.php sends the necessary info to one of our endpoints</li>
<li>our endpoint responds with a token</li>
<li>JS API will use this token for the subsequent API calls</li>
</ul>

<p>There is a special user associated to each API key. It&rsquo;s name is templater and its projects are the default projects in the system. It is always existent and cannot be deleted. The <a href="#project-list-defaults">list defaults route</a> will always respond with the templater&rsquo;s projects. (Our concrete example on the right is generating a token for the templater user.)</p>

<h2 id="admin-level-access-token">Admin level access token</h2>
<pre class="highlight javascript"><code><span class="c1">//First include jQuery somewhere in your page, because our JS API is depending on that</span>
<span class="c1">//Use the JS API from: https://api-static.edmdesigner.com/EDMdesignerAPI.js</span>
<span class="c1">//A concrete example with token.php as the handshaking route and admin as the user</span>
<span class="c1">//Be very careful, authorize your users on the server side very carefully!!!</span>
<span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span><span class="s2">"admin"</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">onSuccess</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//the edmDesignerApi object will contain all the functions which you can use</span>
  <span class="c1">//you will be able to reach all the admin functionality here!</span>
  <span class="c1">//so authorize your users carefully!!!</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"userId"</span><span class="p">])</span> <span class="p">{</span>
  <span class="c1">//here you have to authorize your user!!!
</span>  <span class="c1">//don't let your users to generate access tokens in each other's name
</span>  <span class="c1">//don't let your users to generate an admin token if they don't have the needed permissions for it!!!
</span>  <span class="c1">// - they could mess up each others' projects
</span>
  <span class="nv">$publicId</span> <span class="o">=</span> <span class="s2">"YOUR_API_KEY"</span><span class="p">;</span>
  <span class="nv">$magic</span> <span class="o">=</span> <span class="s2">"YOUR_MAGIC_WORD"</span><span class="p">;</span>
  <span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"REMOTE_ADDR"</span><span class="p">];</span>
  <span class="nv">$timestamp</span> <span class="o">=</span> <span class="nb">time</span><span class="p">();</span>
  <span class="nv">$hash</span> <span class="o">=</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$publicId</span> <span class="o">.</span> <span class="nv">$ip</span> <span class="o">.</span> <span class="nv">$timestamp</span> <span class="o">.</span> <span class="nv">$magic</span><span class="p">);</span>
  <span class="nv">$url</span> <span class="o">=</span> <span class="s2">"http://api-a.edmdesigner.com/api/token"</span><span class="p">;</span> <span class="c1">//should fail over to api-b &amp; api-c as well.
</span>  <span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">"id"</span>  <span class="o">=&gt;</span> <span class="nv">$publicId</span><span class="p">,</span>
        <span class="s2">"uid"</span> <span class="o">=&gt;</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">"userId"</span><span class="p">],</span> <span class="c1">//which supposed to be "admin"
</span>        <span class="s2">"ip"</span>  <span class="o">=&gt;</span> <span class="nv">$ip</span><span class="p">,</span>
        <span class="s2">"ts"</span>  <span class="o">=&gt;</span> <span class="nv">$timestamp</span><span class="p">,</span>
        <span class="s2">"hash"</span>  <span class="o">=&gt;</span> <span class="nv">$hash</span>
  <span class="p">);</span>
  <span class="c1">// use key 'http' even if you send the request to https://...
</span>  <span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
      <span class="s2">"http"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
          <span class="s2">"header"</span>  <span class="o">=&gt;</span> <span class="s2">"Content-type: application/x-www-form-urlencoded</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">,</span>
          <span class="s2">"method"</span>  <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
          <span class="s2">"content"</span> <span class="o">=&gt;</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$data</span><span class="p">),</span>
      <span class="p">)</span>
  <span class="p">);</span>
  <span class="nv">$context</span>  <span class="o">=</span> <span class="nb">stream_context_create</span><span class="p">(</span><span class="nv">$options</span><span class="p">);</span>
  <span class="nv">$result</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="nv">$context</span><span class="p">);</span>
  <span class="k">print</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre>

<p>The generation of an admin level access token is almost the same as generating a regular <a href="#user-level-access-token">user level access token</a>. The only difference is that you have to use the string &ldquo;admin&rdquo; as the user. This is not an existent user in our system, we just use it to generate an admin level access token.</p>

<p>You have to be very careful with this! Always authorize your users on your side of the handshaking process (token generation).</p>

<h1 id="models">Models</h1>

<h2 id="the-project-model">The project model</h2>
<pre class="highlight javascript"><code><span class="c1">//This is not a code example!!!</span>
<span class="c1">//This is the original file in which the mongoose schema and model is defined.</span>
<span class="kd">var</span> <span class="nx">mongoose</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"mongoose"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">Schema</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">projectSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Schema</span><span class="p">({</span>
  <span class="na">user</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nx">Schema</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">,</span> <span class="na">ref</span><span class="p">:</span> <span class="s2">"User"</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">},</span>
  <span class="na">title</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">},</span>
  <span class="na">description</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">},</span>

  <span class="na">createdOn</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nb">Date</span><span class="p">,</span> <span class="na">default</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">},</span>
  <span class="na">lastModified</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nb">Date</span><span class="p">,</span> <span class="na">default</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">},</span>

  <span class="na">document</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nx">Schema</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">Mixed</span><span class="p">},</span>

  <span class="na">customData</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nx">Schema</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">Mixed</span><span class="p">}</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s2">"Project"</span><span class="p">,</span> <span class="nx">projectSchema</span><span class="p">);</span>
</code></pre>
<pre class="highlight php"><code>//Switch to the javascript tab to see the original mongoose schema and model of our Projecs.
</code></pre>

<p>Throughout the documentation you will be reading about requests with which you can make certain operations on projects. Read more about project management <a href="#project-handling">here</a>. These projects have the following properties:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>ObjectId</td>
<td>true</td>
<td>The MongoDB id of the project. (Autogenerated, so if you create a project, you don&rsquo;t have to give it.)</td>
</tr>
<tr>
<td>user</td>
<td>ObjectId</td>
<td>true</td>
<td>A reference to the owner of the project.</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>true</td>
<td>The title of the project.</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>false</td>
<td>Optional extra information.</td>
</tr>
<tr>
<td>createdOn</td>
<td>Date</td>
<td>false</td>
<td>The time when the project was created at.</td>
</tr>
<tr>
<td>lastModified</td>
<td>Date</td>
<td>false</td>
<td>The time when the project was modified for the last time.</td>
</tr>
<tr>
<td>document</td>
<td>Mixed</td>
<td>false</td>
<td>The document descriptor object. Read more about <a href="documentDescriptors.html">here</a>.</td>
</tr>
<tr>
<td>customData</td>
<td>Mixed</td>
<td>false</td>
<td>A custom object in which you can put extra info of the project. For example if it&rsquo;s a template or a campaign.</td>
</tr>
</tbody></table>

<h2 id="the-user-model">The user model</h2>
<pre class="highlight javascript"><code>
<span class="kd">var</span> <span class="nx">mongoose</span>      <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"mongoose"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">Schema</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">,</span>
  <span class="nx">ObjectId</span> <span class="o">=</span> <span class="nx">Schema</span><span class="p">.</span><span class="nx">ObjectId</span><span class="p">;</span>

<span class="c1">// User schema</span>
<span class="kd">var</span> <span class="nx">userSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Schema</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">},</span>
  <span class="na">group</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nx">ObjectId</span><span class="p">,</span> <span class="na">ref</span><span class="p">:</span> <span class="s2">"Groups"</span><span class="p">},</span>

  <span class="na">createTime</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nb">Date</span><span class="p">,</span> <span class="na">default</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">},</span>

  <span class="na">customData</span><span class="p">:</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nx">Schema</span><span class="p">.</span><span class="nx">Types</span><span class="p">.</span><span class="nx">Mixed</span><span class="p">}</span>
<span class="p">});</span>

<span class="nx">userSchema</span><span class="p">.</span><span class="nx">id</span><span class="p">({</span><span class="na">username</span><span class="p">:</span> <span class="mi">1</span><span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s2">"User"</span><span class="p">,</span> <span class="nx">userSchema</span><span class="p">);</span>
</code></pre>
<pre class="highlight php"><code>//Switch to the javascript tab to see the original mongoose schema and model of our Users.
</code></pre>

<p>You will need to associate your users with ours. The best was is to use your own userIds as username in our system, so the association will be trivial.
It&rsquo;s best if you create a user in our system at the first time when your user tries to open our editor. Read more about user management <a href="#user-handling">here</a>.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>true</td>
<td>This will be the id of the user, so you must make it sure, that it&rsquo;s unique per API key. We suggest you to use the userId from your system.</td>
</tr>
<tr>
<td>group</td>
<td>ObjectId</td>
<td>true</td>
<td>A reference to the user&rsquo;s group. (Autogenerated.)</td>
</tr>
<tr>
<td>createdTime</td>
<td>Date</td>
<td>false</td>
<td>The time when the user was created at.</td>
</tr>
<tr>
<td>customData</td>
<td>Mixed</td>
<td>false</td>
<td>A custom object in which you can put extra info of the user.</td>
</tr>
</tbody></table>

<h2 id="the-mongoose-query-object">The mongoose query object</h2>
<pre class="highlight javascript"><code><span class="c1">//A relatively complex example for the query object.</span>
<span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">find</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"customData.campaign"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nl">$regex</span><span class="p">:</span> <span class="s2">"foo.*"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">select</span><span class="p">:</span> <span class="p">[</span><span class="s2">"title"</span><span class="p">,</span> <span class="s2">"lastModified"</span><span class="p">,</span> <span class="s2">"createdOn"</span><span class="p">],</span>
  <span class="na">skip</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">limit</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="na">sort</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">lastModified</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre>

<p>In the documentation there will be several routes with which you can make queries. It basically means that you can set the parameters of the db search. You can place your settings object to the query of the get request.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>find</td>
<td>Object</td>
<td>false</td>
<td>Please check the <a href="http://mongoosejs.com/docs/queries.html">moongoose docs</a>.</td>
</tr>
<tr>
<td>select</td>
<td>Array</td>
<td>false</td>
<td>Please check the <a href="http://mongoosejs.com/docs/queries.html">moongoose docs</a>.</td>
</tr>
<tr>
<td>skip</td>
<td>Number</td>
<td>false</td>
<td>Please check the <a href="http://mongoosejs.com/docs/queries.html">moongoose docs</a>.</td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>false</td>
<td>Please check the <a href="http://mongoosejs.com/docs/queries.html">moongoose docs</a>.</td>
</tr>
<tr>
<td>sort</td>
<td>Object</td>
<td>false</td>
<td>Please check the <a href="http://mongoosejs.com/docs/queries.html">moongoose docs</a>.</td>
</tr>
</tbody></table>

<p>You can set the parameters of the db search (you have to use the moongose.js query syntax, please check their <a href="http://mongoosejs.com/docs/guide.html">documentation</a> for more information)</p>

<h1 id="project-handling">Project handling</h1>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"TestUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//In the following examples we assume that you put the code snippets here,</span>
  <span class="c1">//where edmDesignerApi is on the closure.</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>The following functionalities are reachable with a <a href="#user-level-access-token">user level access token</a>.</p>

<p>Read more about the project model <a href="#the-project-model">here</a>.</p>

<h2 id="project-list">Project - list</h2>
<pre class="highlight javascript"><code><span class="c1">//example without query</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">listProjects</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//handling the result.</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//example with query</span>
<span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">find</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"customData.campaign"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nl">$regex</span><span class="p">:</span> <span class="s2">"foo.*"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">select</span><span class="p">:</span> <span class="p">[</span><span class="s2">"title"</span><span class="p">,</span> <span class="s2">"lastModified"</span><span class="p">,</span> <span class="s2">"createdOn"</span><span class="p">],</span>
  <span class="na">skip</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">limit</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="na">sort</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">lastModified</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">listProjects</span><span class="p">(</span><span class="nx">settings</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//handling the result.</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>Lists the projects of the actual user.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/project/list</td>
<td>GET /jsonp/project/list</td>
<td>edmDesignerApi.listProjects(settings, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>settings</td>
<td><a href="#the-mongoose-query-object">Query Object</a></td>
<td>false</td>
<td>Optional query object</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>The response is an array of projects. or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-list-and-count">Project - list and count</h2>
<pre class="highlight javascript"><code><span class="c1">//example without query</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">listAndCountProjects</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//result should be an array of projects</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//example with query</span>
<span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">find</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"customData.campaign"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nl">$regex</span><span class="p">:</span> <span class="s2">"foo.*"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">select</span><span class="p">:</span> <span class="p">[</span><span class="s2">"title"</span><span class="p">,</span> <span class="s2">"lastModified"</span><span class="p">,</span> <span class="s2">"createdOn"</span><span class="p">],</span>
  <span class="na">skip</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">limit</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="na">sort</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">lastModified</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">listAndCountProjects</span><span class="p">(</span><span class="nx">settings</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//result.count should exist and should be a Number</span>
  <span class="c1">//result.response should exist and should be an array of projects</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>Lists and counts the projects of the actual user, which satisfies the query.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/project/listAndCount</td>
<td>GET /jsonp/project/listAndCount</td>
<td>edmDesignerApi.listAndCountProjects(settings, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>settings</td>
<td><a href="#the-mongoose-query-object">Query Object</a></td>
<td>false</td>
<td>Optional query object</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<p>Compared to <a href="#list-projects">list projects</a>, listAndCountProjects&rsquo; response is an object with two properties: count and response. The first is the number of entries which satisfies the query, the second is the actual array of items. <strong>The count property will hold a value if and only if you set the limit and skip property.</strong> Otherwise its output will be the same like at <a href="#list-projects">list projects</a>.</p>

<p>&hellip;or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-getone">Project - getOne</h2>

<p>Get one project by _id.</p>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"TestUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createProject</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="s2">"test-title"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"test-desc"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">getProject</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
      <span class="c1">//the result is the whole project</span>
      <span class="c1">// _id {String} The id of the project</span>
      <span class="c1">// title {String} The title of the project.</span>
      <span class="c1">// description {String} Description about the project</span>
      <span class="c1">// createdOn {String} Creation time</span>
      <span class="c1">// lastModified {String} Time of the last modification</span>
      <span class="c1">// document {Object} The json format of the template</span>
          <span class="c1">// usedColors {Array} List of the colors which are used in the template</span>
         <span class="c1">// generalSettings {Object} The default settings of the template</span>
         <span class="c1">// root {Object} The actual structure of the template</span>
         <span class="c1">// header {Object} The header of the template</span>
         <span class="c1">// footer {Object} The footer of the template </span>
      <span class="c1">// customData {Object} Your custom data</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>Get a specified project as json. The result will contain almost every information about the selected project.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/project/getProject/:id</td>
<td>GET /jsonp/project/getProject/:id</td>
<td>edmDesignerApi.getProject(projectId, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:id</td>
<td>String</td>
<td>true</td>
<td>The id of the project you want to get.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>The project as a json. Read more about the project model <a href="#the-project-model">here</a>.</p>

<h2 id="project-list-defaults">Project - list defaults</h2>
<pre class="highlight javascript"><code><span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">getDefaultTemplates</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//the result is an array, containing your default projects</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>You can get the default templates provided by your templater user by calling this function. It means that if you have a user called templater, this route will result its projects. (Every API key has an associated templater user by default.)</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/project/defaults</td>
<td>GET /json/project/defaults</td>
<td>edmDesignerApi.getDefaultTemplates(callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>query</td>
<td><a href="#the-mongoose-query-object">Query Object</a></td>
<td>true</td>
<td>A mongodb query obj.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<ul>
<li>A list of the default projects - satisfying the criteria in the query.</li>
<li>Or in case of of limit and skip parameters sent an Object consists of:

<ul>
<li>totalCount {Number} The length of the full list</li>
<li>result {Array} The list of the projects, same as above</li>
</ul></li>
<li>or it can be an error object:

<ul>
<li>err Description of the error {String} or an error code {Number}.</li>
</ul></li>
</ul>

<h2 id="project-create">Project - create</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">exampleProject</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">title</span><span class="p">:</span> <span class="s2">"test title"</span><span class="p">,</span>
  <span class="nx">description</span> <span class="s2">"test description"</span><span class="p">,</span>
  <span class="na">document</span><span class="p">:</span> <span class="p">{}</span> <span class="c1">//an empty doc</span>
<span class="p">};</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createProject</span><span class="p">(</span><span class="nx">exampleProject</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">_id</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>Creates a new project (a new e-mail template).</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>POST /json/project/create</td>
<td>GET /jsonp/project/create</td>
<td>edmDesignerApi.createProject(data, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>String</td>
<td>true</td>
<td>The title of the template / campaign</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>false</td>
<td>Optional description of the project</td>
</tr>
<tr>
<td>document</td>
<td>Object</td>
<td>true</td>
<td>The document descriptor object. (See docs. TODO LINK)</td>
</tr>
<tr>
<td>customData</td>
<td>Object</td>
<td>false</td>
<td>Extra info about the project.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>The result object has an _id field with is the id of the new project. (This is a <a href="http://www.mongodb.org/">MongoDB</a> id.)
or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<p>There are limitations of the JSONP technique you should know about. One limitation is that the client browser will always issue HTTP GET requests to the server, and another is that HTTP error status codes cannot be used to inform the client of the success or failure of an operation.</p>

<p>This is because if the server’s response has a status code other than 200 OK, the client will not load the received Javascript code, and the callback function will never be called. Read more about JSONP <a href="https://en.wikipedia.org/wiki/JSONP">here</a>.</p>

<h2 id="project-duplicate">Project - duplicate</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">projectId</span> <span class="o">=</span> <span class="s2">"#somehow you have to set the projectId."</span><span class="p">;</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">duplicateProject</span><span class="p">(</span><span class="nx">projectId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//result._id is the id of the new project</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>Creates the exact copy of the project with the ID specified by the projectId.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/project/duplicate/:id</td>
<td>GET /jsonp/project/duplicate/:id</td>
<td>edmDesignerApi.duplicateProject(projectId, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters-in-the-route">Parameters (in the route):</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:id</td>
<td>String</td>
<td>true</td>
<td>The string representation of the project id. Note that it has to be a valid MongoDB _id. It&rsquo;s best if you use the values that you got when you <a href="#list-projects">listed the projects of the user</a>.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>Should be a <a href="#the-project-model">project</a> object.
or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-create-from-own">Project - create from own</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">projectId</span> <span class="o">=</span> <span class="s2">"#somehow you have to set the projectId."</span><span class="p">;</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createFromOwn</span><span class="p">(</span><span class="nx">projectId</span><span class="p">,</span> <span class="p">{</span><span class="na">title</span><span class="p">:</span> <span class="s2">"createFromOwn example"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"Created with createFromOwn function"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//the result is the newly created project's object or error object with err property</span>
<span class="p">});</span>
</code></pre>

<p>This function is similar to the <a href="#duplicate-project">duplicate project</a> function, expect whit this function you can define the the title and the description of the new (copy) project. The user can only create the new project from one of his/her own project.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>POST /json/project/createFromOwn</td>
<td>GET /jsonp/project/createFromOwn</td>
<td>edmDesignerApi.createFromOwn(projectId, data, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>ObjectId</td>
<td>true</td>
<td>The id of the object to copy.</td>
</tr>
<tr>
<td>data</td>
<td><a href="#the-project-model">Project</a></td>
<td>true</td>
<td>You should not set the document property, since it will be copied from the other project. (Basically, you can overwrite the title, description and customData of the copied project.)</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>The new project&rsquo;s json.
or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-create-from-defaults">Project - create from defaults</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">templaterProjectId</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"templater"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createProject</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="s2">"test-title"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"test-desc"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">templaterProjectId</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">_id</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>


<span class="c1">//later somewhere in the code...</span>
<span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"TestUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createFromDefaults</span><span class="p">(</span><span class="nx">templaterProjectId</span><span class="p">,</span> <span class="p">{</span><span class="na">title</span><span class="p">:</span> <span class="s2">"createFromDefaults example"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"Created with createFromDefaults function"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//the result is the newly created project's object or error object with err property</span>
  <span class="p">});</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>The user can create a new project based on one of the templater user&rsquo;s projects.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>POST /json/project/createFromDefaults</td>
<td>GET /json/project/createFromDefaults</td>
<td>edmDesignerApi.createFromDefaults(projectId, data, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_id</td>
<td>ObjectId</td>
<td>true</td>
<td>The id of the default project from which you want to create the new one. The owner has to be the templater user of that project.</td>
</tr>
<tr>
<td>data</td>
<td><a href="#the-project-model">Project</a></td>
<td>true</td>
<td>You should not set the document property since the copied project&rsquo;s document will be used.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>A <a href="#the-project-model">project</a>.
or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-update-info">Project - update info</h2>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"TestUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createProject</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="s2">"test-title"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"test-desc"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">updateProjectInfo</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span> <span class="p">{</span><span class="na">title</span><span class="p">:</span> <span class="s2">"New title"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"New description"</span><span class="p">,</span> <span class="na">customData</span><span class="p">:</span> <span class="p">{</span><span class="na">foo</span><span class="p">:</span> <span class="s2">"BAR"</span><span class="p">}},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//the result is an object with success {Boolean} property or err {String} property.</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>Updates the title or/and the description of the specified project. You can add custom informations to this project too.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>POST /json/project/updateInfo</td>
<td>GET /jsonp/project/updateInfo</td>
<td>edmDesignerApi.updateProjectInfo(projectId, data, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td><a href="#the-project-model">Project</a></td>
<td>true</td>
<td>You don&rsquo;t need to set the document field, because that won&rsquo;t be updated if you use this route</td>
</tr>
<tr>
<td>data.override</td>
<td>Boolean</td>
<td>false</td>
<td>If true, then the customData will be overridden with the new one. If false, then it will be merged into the existing one. The default value of it is false.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>{success: true} or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-remove">Project - remove</h2>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"TestUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createProject</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="s2">"test-title"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"test-desc"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">removeProject</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//callback hell...</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>Removes a project.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>DELETE /json/project/remove/:id</td>
<td>GET /jsonp/project/remove/:id</td>
<td>edmDesignerApi.removeProject(projectId, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:id</td>
<td>Param in url</td>
<td>true</td>
<td>The id of the project to remove. Example: /json/project/remove/32</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>A number, it is 1 if the project was successfully deleted</p>

<p>or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-generate-html">Project - generate HTML</h2>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"TestUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createProject</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="s2">"test-title"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"test-desc"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">generateProject</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//the result is a robust responsive HTML e-mail code.</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>Generates the bulletproof responsive HTML e-mail based on the projectId.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/project/generate/:id</td>
<td>GET /jsonp/project/generate/:id</td>
<td>edmDesignerApi.generateProject(projectId, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:id</td>
<td>ProjectId</td>
<td>true</td>
<td>The id of the project to generate html from. This parameter is the part of the route.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>A bulletproof responsive HTML version of the given template</p>

<p>or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-generate-without-sanitizing">Project - generate without sanitizing</h2>

<p>Generates the responsive HTML e-mail based on the projectId. The generated html won&rsquo;t be sanitized. (good for those, who wants to use complex placeholders the normal <a href="#generate">generate route</a> would erase. You should call this route from your server ONLY! You have to take care about sanitizing if you publish the HTML on the web. We recommend to you to use <a href="https://code.google.com/p/google-caja/wiki/JsHtmlSanitizer">Google Caja</a>.</p>

<p>There is no JSONP version of this route, so it&rsquo;s not reachable from the JS API either.</p>

<h3 id="route">Route</h3>

<p>GET /json_v1.0.0/apiKey/:apiKey/user/:userid/project/:projectid/generateWithoutSanitizing</p>

<h3 id="parameters-in-the-route">Parameters (in the route):</h3>

<ul>
<li>:apiKey {String} The key of the instance the target user belongs to</li>
<li>:userId {String} The id of the project&rsquo;s owner. Plesase note that this id should be the same you used for the token generation.</li>
<li>:projectid {String} The id of the project. Note that it has to be a valid MongoDB _id. It&rsquo;s best if you use the values that you got when you list the projects of the user with the <a href="#list-projects">/json/project/list</a> route.</li>
</ul>

<h3 id="response">Response</h3>

<p>A not sanitized responsive HTML version of the given template</p>

<p>or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="project-export-html">Project - export HTML</h2>

<p>Please see <a href="#project-generate-html">generate HTML</a>.</p>

<h2 id="project-preview">Project - preview</h2>

<p>To create a preview you only need to use the <a href="#project-generate-html">generate HTML</a> route as the src attribute of an iframe. If you want to simulate different devices, just set the width of the iframe properly. (Eg. 400px wide for smartphones, 1000px wide for desktop&hellip;)</p>

<p>For further info, see <a href="#project-generate-html">generate HTML</a>.</p>

<h2 id="project-open">Project - Open</h2>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"TestUser"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createProject</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="s2">"test-title"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"test-desc"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">openProject</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">iframe</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>This function is only a wrapper, which will create a correct iframe src from the params. For detailed information about setting up the iframe&rsquo;s src, please see the <a href="#editor-iframe">next chapter</a>.</p>

<p><strong>edmDesignerApi.openProject(projectId, [languageCode], [settings], callback, onErrorCB)</strong></p>

<h3 id="parameters">Parameters:</h3>

<ul>
<li>projectId {String} The id of the project. Note that it has to be a valid MongoDB _id. It&rsquo;s best if you use the values that you got when you list the projects of the user with the <a href="#edmdesignerapilistprojectscallback-onerrorcb">edmDesignerAPI.listProjects</a> function.</li>
<li>languageCode {String} /Optional/ A two character <a href="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1 code</a> of a selected language. With this parameter you can choose the language which the opened project will use. You can find the <a href="#available-languages">list of the available languages</a> at the end of this page. Default language is english.</li>
<li>settings {Object} /Optional/ With this object, it is possible to set some basic settings:

<ul>
<li>autosave {Number} With this property you can set the frequency of the autosave (in millisecond). Please note that the autosave only save the project if there were changes after the last save, with this property you can only set how often should the autosave handler check if there are any kind of changes in the template. If you want to turn off the autosave functionality, then you have to set this property to zero (0). It is possible to manually trigger the saving mechanism with the <a href="#save-project">save project message</a>.</li>
</ul></li>
<li>callback {Function} A function to be called if the request succeeds</li>
<li>onErrorCB {Function} A function to be called if the request fails</li>
</ul>

<p>The callback will be called with an object on which there are two properties:</p>

<ul>
<li>src: the correct src of the iframe</li>
<li>iframe: an iframe which you can already insert to the dom</li>
</ul>

<h1 id="editor-iframe">Editor iframe</h1>

<p>If you want to open a project in our editor, you just have to put an iframe into your page with the correct src. If you don&rsquo;t want to tinker with creating the correct url manually, then you can use the function defined in the <a href="#project-open">previous section</a>.</p>

<p>Here is a real life example for the src:</p>

<p><strong>https://api-static.edmdesigner.com/?user=YOURUSERID&amp;projectId=YOURPROJECTID&amp;token=YOURTOKEN&amp;language=en&amp;autosave=1000</strong></p>

<table><thead>
<tr>
<th>Param</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>true</td>
<td>The id of the user.</td>
</tr>
<tr>
<td>projectId</td>
<td>true</td>
<td>The project you want to open.</td>
</tr>
<tr>
<td>token</td>
<td>true</td>
<td>The <a href="#user-level-access-token">access token of the user</a></td>
</tr>
<tr>
<td>language</td>
<td>false</td>
<td>The <a href="#available-languages">language</a> of the editor. (It defaults to &ldquo;en&rdquo;.)</td>
</tr>
<tr>
<td>autosave</td>
<td>false</td>
<td>The number of milliseconds to spend between the last change and the autosave. If it&rsquo;s 0, then the autosave is disabled. (The default value is 1000 and it cannot be lower than 1000.)</td>
</tr>
</tbody></table>

<p>As you can see, that the editor is served from api-static.edmdesigner.com. Everything on this subdomain is static and served by <a href="http://edmdesigner.com/blog/update-edmdesigner-uses-amazon-cloudfront">Amazon&rsquo;s CDN (Cloudfront)</a>. This means that the editor will load fast all over the world. It makes API calls to our endpoints with build in failover mechanism, so it is very, very robust as well.</p>

<h1 id="user-handling">User handling</h1>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"admin"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">listGroups</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//the result is an array, containing your groups</span>
  <span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>The following functionalities are reachable with an <a href="#admin-level-access-token">admin level access token</a>.</p>

<p>Read more about the user model <a href="#the-user-model">here</a>.</p>

<h2 id="user-list">User - list</h2>
<pre class="highlight javascript"><code><span class="c1">//do not forget, that you have to use an admin level access token!</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">listUsers</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//the result is an array, containing your users</span>
  <span class="c1">//A user is an object with</span>
  <span class="c1">//id (the user's id)</span>
  <span class="c1">//group (The group which the user belongs) and</span>
  <span class="c1">//createTime (Time of creation) properties</span>
  <span class="c1">//customData (The custom informations you saved for the user)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">},</span> <span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">function</span> 
</code></pre>

<p>Lists the users associated to the API key you are using.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/user/list</td>
<td>GET /jsonp/user/list</td>
<td>edmDesignerApi.listUsers(callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>query</td>
<td><a href="#the-mongoose-query-object">Query Object</a></td>
<td>false</td>
<td>A mongoose query object.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>An array of your <a href="#the-user-model">users</a>.</p>

<p>Or in case of of limit and skip parameters sent an Object consists of:</p>

<ul>
<li>totalCount {Number} The length of the unfiltered list</li>
<li>result {Array} The list of the [users](#the-user-model], same as above</li>
</ul>

<p>Or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="user-create">User - create</h2>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">groupId</span> <span class="o">=</span> <span class="s2">""</span>
<span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createUser</span><span class="p">({</span><span class="na">id</span><span class="p">:</span> <span class="s2">"exampleuserId"</span><span class="p">,</span> <span class="na">group</span><span class="p">:</span> <span class="nx">result</span><span class="p">.</span><span class="nx">_id</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resultUser</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// the resultUser is an object with an id property</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resultUser</span><span class="p">);</span>
<span class="p">},</span> <span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>Creates a new user</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>POST /json/user/create</td>
<td>GET /jsonp/user/create</td>
<td>edmDesignerApi.createUser(data, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td><a href="#the-user-model">User</a></td>
<td>true</td>
<td>The only required property of it is the id.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>User object:</p>

<ul>
<li>id {String} The id of the user (your id, not the MongoDB _id)</li>
</ul>

<p>Or it can be an error object:</p>

<ul>
<li>err Description of the error {String} or an error code {Number}.</li>
</ul>

<h2 id="user-get-one">User - get one</h2>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"admin"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createUser</span><span class="p">({</span><span class="na">id</span><span class="p">:</span> <span class="s2">"exampleUserId"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">getUser</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resultUser</span><span class="p">)</span> <span class="p">{</span>
      <span class="cm">/**the resultUser is an object with
      id (the user's id)
      group (The group which the user belongs) and
      createTime (Time of creation) properties
      customData (the custom data you saved for this user) */</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resultUser</span><span class="p">);</span>
    <span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>

  <span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>Gets a specified user</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/user/getOne/:id</td>
<td>GET /json/user/getOne/:id</td>
<td>edmDesignerApi.getUser(userId, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:id</td>
<td>String</td>
<td>true</td>
<td>The id of the user. (Which was given by you previously at <a href="#user-create">user creation</a>.)</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>A <a href="#the-user-model">user</a> object.</p>

<p>Or it can be an error object:
  - err Description of the error {String} or an error code {Number}.</p>

<h2 id="user-update">User - update</h2>

<p>Updates a specified user. The group (which the user belongs) can be changed. You can add custom informations to the user too.</p>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"admin"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createUser</span><span class="p">({</span><span class="na">id</span><span class="p">:</span> <span class="s2">"exampleUserId"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createGroup</span><span class="p">({</span><span class="na">name</span><span class="p">:</span> <span class="s2">"exampleGroup"</span><span class="p">,</span> <span class="na">featureSwitch</span><span class="p">:</span> <span class="p">{}},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resultGroup</span><span class="p">)</span> <span class="p">{</span>

      <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">updateUser</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="p">{</span><span class="na">group</span><span class="p">:</span> <span class="nx">resultGroup</span><span class="p">.</span><span class="nx">_id</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resultUser</span><span class="p">)</span> <span class="p">{</span> 
        <span class="c1">//the resultUser is an object with an id property</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resultUser</span><span class="p">);</span>
      <span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>

    <span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>
  <span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>GET /json/user/getOne/:id</td>
<td>GET /json/user/getOne/:id</td>
<td>edmDesignerApi.updateUser(userId, data, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:id</td>
<td>String</td>
<td>true</td>
<td>The id of the user. (Which was given by you previously at <a href="#user-create">user creation</a>.)</td>
</tr>
<tr>
<td>data</td>
<td><a href="#the-user-model">User</a></td>
<td>true</td>
<td>The new user data</td>
</tr>
<tr>
<td>data.override</td>
<td>Boolean</td>
<td>false</td>
<td>If it is true then the customData will be overridden with the newly given data, if it is false then the newly given customData will be merged with the previous ones. By default it is false.</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>The user object.</p>

<h2 id="user-remove">User - remove</h2>
<pre class="highlight javascript"><code><span class="nx">initEDMdesignerPlugin</span><span class="p">(</span><span class="s2">"token.php"</span><span class="p">,</span> <span class="s2">"admin"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">edmDesignerApi</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">createUser</span><span class="p">({</span><span class="na">id</span><span class="p">:</span> <span class="s2">"exampleUserId"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">edmDesignerApi</span><span class="p">.</span><span class="nx">deleteUser</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resultUser</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//the resultUser is an object with an id property</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resultUser</span><span class="p">);</span>
    <span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>

  <span class="p">},</span> <span class="nx">onErrorCB</span><span class="p">);</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">onErrorCB</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>

<p>Deletes a specified user.</p>

<table><thead>
<tr>
<th>HTTP</th>
<th>JSONP</th>
<th>JS API</th>
</tr>
</thead><tbody>
<tr>
<td>DELETE /json/user/delete/:id</td>
<td>GET /jsonp/user/delete/:id</td>
<td>edmDesignerApi.deleteUser(userId, callback, onErrorCB)</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters:</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:id</td>
<td>String</td>
<td>true</td>
<td>The id of the user. (Which was given by you previously at <a href="#user-create">user creation</a>.)</td>
</tr>
</tbody></table>

<h3 id="response">Response:</h3>

<p>User object:</p>

<ul>
<li>id {String} The id of the deleted user</li>
</ul>

<p>Or it can be an error object:</p>

<ul>
<li>err Description of the error {String} or an error code {Number}.</li>
</ul>

<h1 id="gallery-handling">Gallery handling</h1>
<pre class="highlight javascript"><code><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"message"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">origin</span> <span class="o">!==</span> <span class="s2">"https://api-static.edmdesigner.com"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="nx">msg</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">action</span> <span class="o">===</span> <span class="s2">"edit"</span> <span class="o">&amp;&amp;</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">elementJson</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">"IMAGE"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">event</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">_dynId</span><span class="p">:</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">_dynId</span><span class="p">,</span>
        <span class="na">action</span><span class="p">:</span> <span class="s2">"setProps"</span><span class="p">,</span>
        <span class="na">props</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">src</span><span class="p">:</span> <span class="s2">"http://upload.wikimedia.org/wikipedia/en/2/24/Lenna.png"</span>
        <span class="p">}</span>
      <span class="p">}),</span> <span class="nx">event</span><span class="p">.</span><span class="nx">origin</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">action</span> <span class="o">===</span> <span class="s2">"editBackground"</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">elementJson</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">"BOX"</span> <span class="o">||</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">elementJson</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">"BUTTON"</span> <span class="o">||</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">elementJson</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">"GENERAL"</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">event</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">_dynId</span><span class="p">:</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">_dynId</span><span class="p">,</span>
        <span class="na">action</span><span class="p">:</span> <span class="s2">"setProps"</span><span class="p">,</span>
        <span class="na">props</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">background</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">image</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">src</span><span class="p">:</span> <span class="s2">"http://upload.wikimedia.org/wikipedia/en/2/24/Lenna.png"</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}),</span> <span class="nx">event</span><span class="p">.</span><span class="nx">origin</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//do nothing</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
</code></pre>

<p>Basically there are two ways to use gallery in our editor:</p>

<ul>
<li>you can use the built-in gallery</li>
<li>or you integrate our editor with your own gallery.</li>
</ul>

<p>We suggest you to use your own gallery for several reasons:</p>

<ul>
<li>The first is that if you use our built-in gallery, then the images first will be uploaded to our server and then we post it to your server which you set up on the dashboard. This way the upload speeds can be slower radically.</li>
<li>The second reason is that you have to keep our and your gallery in synchron, which is probably takes much more time then using your already existing gallery from your own system.</li>
</ul>

<p>If you want to use your own gallery, then we have to disable the gallery for your API keys. Log in to the <a href="https://dashboard.edmdesigner.com/login">dashboard</a> and go to editor settings. At the runtime modifiers part, you can disable the built-in gallery. Be careful, try it first with one of your test api keys. </p>

<p>When the gallery is disabled, you can hook on editor events which we send through parent.postMessage. In the example on the right hand side (javascript tab) we hook on every image and background related edit event. What we do is basically we immediately set the src property or the background src whenever we get an &ldquo;edit&rdquo; or &ldquo;editBackground&rdquo; event. We do it with the setProps action. You have to send back the _dynId of the element, so the editor will update the property of the same element the user started to edit.</p>

<p>If you want to pop-up your own gallery, you need to do that in the if parts and you can send a postMessage back to the iframe when your user picked the image he/she wanted. This way you can use your own gallery or even your favorite image manipulator.</p>

<p>If you still want to use our built-in gallery, you can read its <a href="builtInGallery.html">docs</a> and a <a href="tutorialGalleryConfig.html">tutorial</a> about it.</p>

<h1 id="available-languages">Available Languages</h1>

<p>At the moment we support the following languages:</p>

<ul>
<li>de (German)</li>
<li>en (English)</li>
<li>fr (French)</li>
<li>es (Spanish)</li>
<li>hu (Hungarian)</li>
<li>it (Italian)</li>
<li>nl (Dutch)</li>
<li>pl (Polish)</li>
<li>pt (Portuguese)</li>
<li>pt-BR (Portuguese [Brazilian])</li>
<li>ro (Romanian)</li>
<li>ru (Russian)</li>
<li>zh-HANS (Chinese [Simplified])</li>
</ul>

<p>If the language you want to use is not available yet then please contact us with the following email address: info@edmdesigner.com</p>

<h1 id="supported-browsers">Supported browsers</h1>

<ul>
<li>Internet Explorer 10+</li>
<li>Google Chrome 33+</li>
<li>Mozilla Firefox 27+</li>
<li>Opera 19+</li>
<li>Safari 5+</li>
</ul>

          <h1 id="tutorials">Tutorials</h1>

<table><thead>
<tr>
<th>Tutorial</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="tutorialTheBasics.html">The Basics</a></td>
<td>In this tutorial you will learn about our dashboard, the access token generation and the very basic functionalities, like creating and opening projects.</td>
</tr>
<tr>
<td><a href="tutorialAdminFunctionalities.html">Admin Functionalities</a></td>
<td>The biggest take away of this tutorial that you will see how to create new users in our system, so you will be able to associate one user for each of users in your system.</td>
</tr>
<tr>
<td><a href="tutorialGalleryConfig.html">Old Built-in Gallery Configuration</a></td>
<td>In this tutorial you will learn about how to set up the gallery properly, how to implement the hooks on your side and you will also learn about the security of these hooks.</td>
</tr>
</tbody></table>

<h1 id="other-documentations">Other documentations</h1>

<table><thead>
<tr>
<th>Document</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="./">Basics</a></td>
<td>This documentation covers the very basics of the integration, like:<ul><li>generating an access token</li><li>making API calls</li><li>managing and opening projects</li><li>managing users</li><li>gallery handling</li></ul></td>
</tr>
<tr>
<td><a href="advanced.html">Advanced</a></td>
<td>This documentation covers more advanced topics. Probably you will only need some of these functionalities. <ul><li>Group handling</li><li>String placeholders</li><li>Dynamic data</li><li>Favorite elements&rsquo; management</li><li>Working with custom data</li><li>Advanced project handling</li><li>API key management</li></ul></td>
</tr>
<tr>
<td><a href="postMessageApi.html">postMessage API</a></td>
<td>By reading this documentation you can learn about how to manipulate the editor itself from the client side. Basically this client side API is based on the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage">postMessage</a> function with which you can send messages between frames from different domains. <ul><li>Basic messages and responses (eg. manual save)</li><li>Hooking on editor events (eg. using your own gallery instead of the built-in one)</li><li>Dynamic data</li><li>Setting elements&rsquo; properties</li></ul></td>
</tr>
<tr>
<td><a href="documentDescriptors.html">Element descriptors</a></td>
<td>A detailed description of our element types used in projects and favorite elements. We generate all of our outputs based on these JSON descriptors.</td>
</tr>
<tr>
<td><a href="builtInGallery.html">Old built-in gallery</a></td>
<td>Don&rsquo;t use it. Use the new postMessage based solution.</td>
</tr>
<tr>
<td><a href="migratingToTheCDNBasedEditor.html">Migrating to the CDN based editor</a></td>
<td>In this article you will learn about how to migrate from the good old version of the editor to the superfast and robust <a href="http://edmdesigner.com/blog/update-edmdesigner-uses-amazon-cloudfront">CDN based version</a>.</td>
</tr>
</tbody></table>

<h1 id="example-implementations">Example implementations</h1>

<p>Our PHP examples are very well maintained, but the others are probably not up-to-date. Still, they can be a good starting point, but you might want to take a look at the PHP examples as well in the meanwhile.</p>

<ul>
<li><a href="https://github.com/EDMdesigner/EDMdesigner-API-Example-PHP">PHP example</a></li>
<li><a href="https://github.com/EDMdesigner/EDMDesigner-API-Example-PHP-Admin">PHP admin example</a></li>
<li><a href="https://github.com/EDMdesigner/EDMdesigner-API-Example-Node.js">Node.js example</a></li>
<li><a href="https://github.com/EDMdesigner/EDMdesigner-API-Example-ColdFusion">Cold Fusion example</a> - Thank you Tom Chiverton from Extravision! :)</li>
<li><a href="https://github.com/EDMdesigner/EDMDesigner-API-Example-Django">Django example</a> - Thank you Ferenc Vehmann from ZenHeads! :)</li>
</ul>

<p>If you have another example implementation, please let us know, we will fork it and will put a link here.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
